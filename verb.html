<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC í•„ìˆ˜ ë™ì‚¬ 50ì„ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { font-family: 'Pretendard', sans-serif; }
        .word-card { perspective: 1000px; }
        .card-inner { transition: transform 0.6s; transform-style: preserve-3d; cursor: pointer; position: relative; }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-front, .card-back { backface-visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 2rem; padding: 2rem; }
        .card-back { transform: rotateY(180deg); }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    <div class="max-w-md mx-auto px-4 py-8">
        
        <header class="flex justify-between items-center mb-10">
            <button onclick="location.href='index.html'" class="text-slate-400"><i class="fas fa-arrow-left"></i></button>
            <div id="progressStep" class="flex gap-2">
                <div class="step-dot w-2 h-2 rounded-full bg-indigo-600"></div>
                <div class="step-dot w-2 h-2 rounded-full bg-slate-200"></div>
                <div class="step-dot w-2 h-2 rounded-full bg-slate-200"></div>
            </div>
            <div class="w-8"></div>
        </header>

        <div id="main-study">
            <h1 class="text-2xl font-black text-slate-900 mb-2 tracking-tighter italic text-center">CORE VERB 50</h1>
            <p class="text-slate-400 text-center text-xs font-bold mb-8 uppercase tracking-widest">Pre-Class Assignment</p>

            <div id="step1" class="bg-white rounded-[3rem] shadow-xl p-10 text-center border border-slate-100">
                <p class="text-slate-400 font-bold text-[10px] uppercase tracking-[0.2em] mb-10">Step 01. Self Check</p>
                <div class="h-32 flex items-center justify-center mb-12">
                    <span id="sortWord" class="text-4xl font-black text-indigo-600 tracking-tight">Loading...</span>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <button onclick="sortWord(false)" class="bg-slate-100 py-6 rounded-[2rem] text-slate-400 font-black text-lg active:scale-95 transition">ëª°ë¼ìš”</button>
                    <button onclick="sortWord(true)" class="bg-slate-900 py-6 rounded-[2rem] text-white font-black text-lg shadow-lg active:scale-95 transition">ì•Œì•„ìš”</button>
                </div>
                <div class="mt-8 text-slate-300 font-bold text-sm"><span id="sortCount">1</span> / 50</div>
            </div>

            <div id="step2" class="hidden">
                <div class="word-card h-80 mb-8">
                    <div id="cardInner" class="card-inner w-full h-full shadow-2xl shadow-indigo-200">
                        <div class="card-front bg-white border-2 border-slate-100 text-center">
                            <span id="flashWord" class="text-4xl font-black text-slate-900 tracking-tight">Word</span>
                        </div>
                        <div class="card-back bg-indigo-600 text-white text-center p-8">
                            <div>
                                <span id="flashMean" class="block text-2xl font-black mb-4">ëœ»</span>
                                <p id="flashEx" class="italic text-indigo-100 text-sm leading-snug">Example sentence</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 gap-4">
                    <button id="memorizedBtn" class="bg-emerald-500 text-white py-6 rounded-[2rem] font-black text-xl shadow-xl active:scale-95 transition">ì™¸ì› ìŠµë‹ˆë‹¤! (ì‚­ì œ)</button>
                    <button id="nextFlashBtn" class="hidden bg-slate-900 text-white py-6 rounded-[2rem] font-black text-xl shadow-xl active:scale-95 transition">ë‹¤ìŒ ë‹¨ì–´ (ë°˜ë³µ)</button>
                </div>
            </div>

            <div id="step3" class="hidden bg-white rounded-[3rem] shadow-xl p-10 border border-slate-100">
                <h2 class="text-[10px] font-black text-slate-400 text-center uppercase tracking-[0.2em] mb-10">Step 03. Final Test</h2>
                <div class="text-center mb-12 h-20 flex items-center justify-center">
                    <span id="quizWord" class="text-3xl font-black text-indigo-600 italic">Quiz</span>
                </div>
                <div id="quizOptions" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <script>
        // ê°•ì‚¬ë‹˜ì´ ì„ ì •í•˜ì‹  í•„ìˆ˜ ë™ì‚¬ 50ê°œ ë°ì´í„° ë‚´ì¥
        const verbs50 = [
            {word: "accommodate", mean: "ìˆ˜ìš©í•˜ë‹¤, í¸ì˜ë¥¼ ë„ëª¨í•˜ë‹¤", ex: "The hotel can accommodate up to 500 guests."},
            {word: "address", mean: "ë‹¤ë£¨ë‹¤, ì²˜ë¦¬í•˜ë‹¤", ex: "We need to address the technical issues immediately."},
            {word: "allocate", mean: "í• ë‹¹í•˜ë‹¤, ë°°ì •í•˜ë‹¤", ex: "The board allocated funds for the new project."},
            {word: "anticipate", mean: "ì˜ˆìƒí•˜ë‹¤, ê¸°ëŒ€í•˜ë‹¤", ex: "We anticipate a significant increase in sales."},
            {word: "approve", mean: "ìŠ¹ì¸í•˜ë‹¤", ex: "The manager approved the travel expenses."},
            {word: "assign", mean: "ë°°ì •í•˜ë‹¤, ë§¡ê¸°ë‹¤", ex: "The supervisor assigned a new task to the team."},
            {word: "assure", mean: "ë³´ì¥í•˜ë‹¤, í™•ì‹ ì‹œí‚¤ë‹¤", ex: "I assure you that the order will be delivered on time."},
            {word: "attract", mean: "ëŒì–´ë“¤ì´ë‹¤, ìœ ì¸í•˜ë‹¤", ex: "The new advertisement attracted many customers."},
            {word: "authorize", mean: "ê¶Œí•œì„ ë¶€ì—¬í•˜ë‹¤, í—ˆê°€í•˜ë‹¤", ex: "Only authorized personnel can enter this area."},
            {word: "collaborate", mean: "í˜‘ë ¥í•˜ë‹¤", ex: "We collaborated with the marketing department."},
            {word: "comply", mean: "ì¤€ìˆ˜í•˜ë‹¤, ë”°ë¥´ë‹¤", ex: "All employees must comply with the safety regulations."},
            {word: "confirm", mean: "í™•ì¸í•˜ë‹¤, í™•ì •í•˜ë‹¤", ex: "Please confirm your reservation by email."},
            {word: "contribute", mean: "ê¸°ì—¬í•˜ë‹¤, ê³µí—Œí•˜ë‹¤", ex: "Every member contributed to the success of the event."},
            {word: "convey", mean: "ì „ë‹¬í•˜ë‹¤", ex: "The CEO conveyed his gratitude to the staff."},
            {word: "delegate", mean: "ìœ„ì„í•˜ë‹¤", ex: "A good leader knows how to delegate tasks."},
            {word: "demonstrate", mean: "ì…ì¦í•˜ë‹¤, ë³´ì—¬ì£¼ë‹¤", ex: "The results demonstrate the effectiveness of the product."},
            {word: "determine", mean: "ê²°ì •í•˜ë‹¤, ì•Œì•„ë‚´ë‹¤", ex: "Price is determined by supply and demand."},
            {word: "distribute", mean: "ë°°í¬í•˜ë‹¤, ìœ í†µí•˜ë‹¤", ex: "The brochures were distributed to all attendees."},
            {word: "ensure", mean: "ë³´ì¥í•˜ë‹¤, í™•ì‹¤íˆ í•˜ë‹¤", ex: "Please ensure that all doors are locked."},
            {word: "evaluate", mean: "í‰ê°€í•˜ë‹¤", ex: "Performance is evaluated on an annual basis."},
            {word: "exceed", mean: "ì´ˆê³¼í•˜ë‹¤", ex: "The total cost exceeded our initial budget."},
            {word: "facilitate", mean: "ìš©ì´í•˜ê²Œ í•˜ë‹¤, ì´‰ì§„í•˜ë‹¤", ex: "The new software will facilitate communication."},
            {word: "finalize", mean: "ë§ˆë¬´ë¦¬ ì§“ë‹¤, í™•ì •í•˜ë‹¤", ex: "We need to finalize the contract by Friday."},
            {word: "fulfill", mean: "ì¶©ì¡±ì‹œí‚¤ë‹¤, ì´í–‰í•˜ë‹¤", ex: "The candidate fulfills all the requirements."},
            {word: "generate", mean: "ë°œìƒì‹œí‚¤ë‹¤, ì°½ì¶œí•˜ë‹¤", ex: "The campaign generated a lot of interest."},
            {word: "implement", mean: "ì‹œí–‰í•˜ë‹¤, ì‹¤ì‹œí•˜ë‹¤", ex: "The new policy will be implemented next month."},
            {word: "indicate", mean: "ë‚˜íƒ€ë‚´ë‹¤, ê°€ë¦¬í‚¤ë‹¤", ex: "Surveys indicate that customer satisfaction is high."},
            {word: "inspect", mean: "ì ê²€í•˜ë‹¤, ê²€ì‚¬í•˜ë‹¤", ex: "The facility is inspected once a year."},
            {word: "install", mean: "ì„¤ì¹˜í•˜ë‹¤", ex: "We are going to install a new security system."},
            {word: "instruct", mean: "ì§€ì‹œí•˜ë‹¤", ex: "The manual instructs users on how to set up the device."},
            {word: "investigate", mean: "ì¡°ì‚¬í•˜ë‹¤", ex: "The police are investigating the cause of the fire."},
            {word: "maintain", mean: "ìœ ì§€í•˜ë‹¤, ê´€ë¦¬í•˜ë‹¤", ex: "It is important to maintain a healthy work-life balance."},
            {word: "modify", mean: "ìˆ˜ì •í•˜ë‹¤, ë³€ê²½í•˜ë‹¤", ex: "We had to modify the original plan slightly."},
            {word: "monitor", mean: "ê°ì‹œí•˜ë‹¤, ê´€ì°°í•˜ë‹¤", ex: "The system monitors the temperature automatically."},
            {word: "notify", mean: "í†µì§€í•˜ë‹¤, ì•Œë¦¬ë‹¤", ex: "Please notify us of any changes in your address."},
            {word: "obtain", mean: "íšë“í•˜ë‹¤, ì–»ë‹¤", ex: "You can obtain the form at the reception desk."},
            {word: "occupy", mean: "ì ìœ í•˜ë‹¤, ì°¨ì§€í•˜ë‹¤", ex: "All the rooms in the hotel are currently occupied."},
            {word: "outline", mean: "ê°œìš”ë¥¼ ì„œìˆ í•˜ë‹¤", ex: "The proposal outlines the project goals."},
            {word: "participate", mean: "ì°¸ì—¬í•˜ë‹¤", ex: "Over 100 people participated in the seminar."},
            {word: "postpone", mean: "ì—°ê¸°í•˜ë‹¤, ë¯¸ë£¨ë‹¤", ex: "The meeting has been postponed until next week."},
            {word: "proceed", mean: "ì§„í–‰í•˜ë‹¤", ex: "The construction is proceeding as planned."},
            {word: "promote", mean: "ìŠ¹ì¸í•˜ë‹¤, í™ë³´í•˜ë‹¤", ex: "She was promoted to Senior Manager."},
            {word: "purchase", mean: "êµ¬ë§¤í•˜ë‹¤", ex: "Tickets can be purchased online."},
            {word: "rectify", mean: "ìˆ˜ì •í•˜ë‹¤, ë°”ë¡œì¡ë‹¤", ex: "We will take steps to rectify the error."},
            {word: "reflect", mean: "ë°˜ì˜í•˜ë‹¤", ex: "The stock price reflects the current market conditions."},
            {word: "relocate", mean: "ì´ì „í•˜ë‹¤", ex: "The company is relocating its headquarters to Seoul."},
            {word: "request", mean: "ìš”ì²­í•˜ë‹¤", ex: "You can request a refund within 30 days."},
            {word: "respond", mean: "ì‘ë‹µí•˜ë‹¤", ex: "We will respond to your inquiry as soon as possible."},
            {word: "submit", mean: "ì œì¶œí•˜ë‹¤", ex: "Please submit your application by the deadline."},
            {word: "verify", mean: "í™•ì¸í•˜ë‹¤, ì…ì¦í•˜ë‹¤", ex: "We need to verify your identity before proceeding."}
        ];

        let unknownWords = [], nextLoopWords = [], quizWords = [];
        let sortIdx = 0, quizIdx = 0, correctCount = 0;

        // ì´ˆê¸° ì‹œì‘
        function init() {
            showSortWord();
        }

        function speak(text) {
            window.speechSynthesis.cancel();
            const speech = new SpeechSynthesisUtterance(text);
            speech.lang = 'en-US';
            speech.rate = 0.9;
            window.speechSynthesis.speak(speech);
        }

        window.sortWord = (known) => {
            if (!known) unknownWords.push(verbs50[sortIdx]);
            sortIdx++;
            if (sortIdx < verbs50.length) showSortWord();
            else startStep2();
        };

        function showSortWord() {
            document.getElementById('sortWord').innerText = verbs50[sortIdx].word;
            document.getElementById('sortCount').innerText = sortIdx + 1;
        }

        function startStep2() {
            if (unknownWords.length === 0) { startStep3(); return; }
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            updateDots(1);
            showFlashCard();
        }

        function showFlashCard() {
            const word = unknownWords[0];
            document.getElementById('flashWord').innerText = word.word;
            document.getElementById('flashMean').innerText = word.mean;
            document.getElementById('flashEx').innerText = word.ex || "";
            document.getElementById('cardInner').classList.remove('is-flipped');
            document.getElementById('memorizedBtn').classList.remove('hidden');
            document.getElementById('nextFlashBtn').classList.add('hidden');
        }

        document.getElementById('cardInner').onclick = () => {
            if (!document.getElementById('cardInner').classList.contains('is-flipped')) {
                document.getElementById('cardInner').classList.add('is-flipped');
                speak(document.getElementById('flashWord').innerText);
                document.getElementById('memorizedBtn').classList.add('hidden');
                document.getElementById('nextFlashBtn').classList.remove('hidden');
            }
        };

        document.getElementById('memorizedBtn').onclick = () => { unknownWords.shift(); checkCycle(); };
        document.getElementById('nextFlashBtn').onclick = () => { nextLoopWords.push(unknownWords.shift()); checkCycle(); };

        function checkCycle() {
            if (unknownWords.length === 0) {
                if (nextLoopWords.length === 0) startStep3();
                else { unknownWords = [...nextLoopWords]; nextLoopWords = []; showFlashCard(); }
            } else showFlashCard();
        }

        function startStep3() {
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step3').classList.remove('hidden');
            updateDots(2);
            quizWords = [...verbs50].sort(() => 0.5 - Math.random()).slice(0, 20); // 50ê°œ ì¤‘ 20ê°œë§Œ ëœë¤ í…ŒìŠ¤íŠ¸
            showQuiz();
        }

        function showQuiz() {
            const correct = quizWords[quizIdx];
            document.getElementById('quizWord').innerText = correct.word;
            let options = [correct.mean];
            while(options.length < 4) {
                let r = verbs50[Math.floor(Math.random()*verbs50.length)].mean;
                if(!options.includes(r)) options.push(r);
            }
            options.sort(() => 0.5 - Math.random());
            const container = document.getElementById('quizOptions');
            container.innerHTML = '';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "w-full py-5 px-6 bg-slate-50 border border-slate-100 rounded-2xl font-bold text-left hover:bg-indigo-50 transition-all";
                btn.innerText = opt;
                btn.onclick = () => {
                    if(opt === correct.mean) { correctCount++; }
                    else { alert(`ì˜¤ë‹µ! ì •ë‹µ: ${correct.mean}`); }
                    quizIdx++;
                    if(quizIdx < quizWords.length) showQuiz();
                    else finishQuiz();
                };
                container.appendChild(btn);
            });
        }

        function finishQuiz() {
            const score = Math.round((correctCount / quizWords.length) * 100);
            alert(`ğŸ† í•™ìŠµ ì™„ë£Œ! ì ìˆ˜: ${score}ì \në©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.`);
            location.href = "index.html";
        }

        function updateDots(idx) {
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((d, i) => d.className = i <= idx ? "step-dot w-2 h-2 rounded-full bg-indigo-600" : "step-dot w-2 h-2 rounded-full bg-slate-200");
        }

        init();
    </script>
</body>
</html>